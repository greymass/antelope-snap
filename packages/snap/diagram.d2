connectSnap -> onInstall

onInstall: {

derivePublicKey -> lookupAccountByKey -> isExistingAccount
isExistingAccount.shape: diamond

isExistingAccount -> copyPublicKey:no

copyPublicKey -> _.create account using publicKey
_.create account using publicKey -> checkAgain -> lookupAccountByKey

isExistingAccount -> fetchAccountDetails:yes

fetchAccountDetails -> saveAccountDetails -> derivePrivateKey -> createSession
}

